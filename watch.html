<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Download [MOVIE_TITLE] in HD quality (1080p, 720p, 480p) with dual audio and English subtitles. Fast and secure Google Drive download links available.">
    <meta name="keywords" content="[MOVIE_TITLE] download, HD movie download, dual audio movie, free movie download, [MOVIE_GENRE] movies">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Download [MOVIE_TITLE] HD Movie | mFlix">
    <meta property="og:description" content="Download [MOVIE_TITLE] in HD quality with dual audio and English subtitles.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="[PAGE_URL]">
    <meta property="og:image" content="[POSTER_URL]">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="canonical" href="[PAGE_URL]" />
    
    <title>Download <span class="movieTitle3"></span> (<span class="movieYear"></span>) HD Movie 1080p, 720p, 480p | mFlix</title>

    <link rel="stylesheet" href="https://cdn.plyr.io/3.6.12/plyr.css" />
    <script src="https://cdn.plyr.io/3.6.12/plyr.polyfilled.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    
<style>
/* General Body Styles */
  body {
    font-family: 'Roboto', sans-serif;
    margin: 0;
    padding: 0;
    transition: background-color 0.3s, color 0.3s;
  }

  /* Dark Mode Styling */
  body.dark-mode {
    background-color: #121212;
    color: #bbb;
  }

  /* Light Mode Styling */
  body.light-mode {
    background-color: #ffffff;
    color: #121212;
  }

  /* Header Styling */
  header {
    background-color: #222;
    padding: 10px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: #ffffff;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    position: sticky;
    top: 0;
    z-index: 100;
  }

  header a {
    font-size: 20px;
    margin: 0;
    font-weight: bold;
    color: white;
    text-decoration: none; 
  } 
  
  .headerIcon {
    display: flex;
    gap: 10px;
    align-items: center;
  }

  /* Toggle and Search Button */
  .mode-toggle, .searchbtn {
    background-color: #444;
    border: none;
    border-radius: 50%;
    width: 38px;
    height: 38px;
    color: #ffffff;
    font-size: 20px;
    cursor: pointer;
    transition: transform 0.2s ease-in-out, background-color 0.3s;
  }

  .mode-toggle:hover, .searchbtn:hover {
    transform: scale(1.1);
    background-color: #555;
  }

  /* Movie thumbnail (not shown as we use poster image for video player) */
  .download-btn {
    display: none;
  }

  /* Video player style */
  #player {
    width: 100%;
    height: 220px;
    object-fit: cover;
    border-radius: 5px;
    background-color: black;
  }

  /* Optional: Ensure the parent container respects the fixed dimensions */
  .video-player {
    width: 100%;
    max-width: 800px;
    height: 220px;
    margin: 20px auto;
    border-radius: 5px;
    overflow: hidden;
  }

  /* Quality option buttons */
  .quality-options {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin: 15px 0;
  }

  .quality-options button {
    padding: 5px 10px;
    border-radius: 5px;
    background-color: #ff5722;
    color: #fff;
    border: none;
    cursor: pointer;
    font-size: 15px;
    transition: background-color 0.3s;
  }

  .quality-options button:hover {
    background-color: #e64a19;
  }

  /* Container for the download buttons */
#downloadOptions {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 20px;
}

/* Download buttons style */
#downloadOptions button {
    background-color: #4caf50;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 14px;
    font-weight: bold;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
    text-align: center;
    white-space: nowrap;
}

/* Hover effect for buttons */
#downloadOptions button:hover {
    background-color: #45a049;
    transform: scale(1.05);
}

/* Active effect when the button is clicked */
#downloadOptions button:active {
    background-color: #3e8e41;
    transform: scale(0.98);
}

/* Style for different screen sizes */
@media screen and (max-width: 600px) {
    #downloadOptions {
        flex-direction: column;
        align-items: flex-start;
    }
    #downloadOptions button {
        width: 100%;
    }
}
</style>
</head>

<body class="light-mode">

  <!-- Header -->
<header>
  <a href="/">mFlix moviE web-app</a>
  <div class="headerIcon">
  <!-- Search Button -->
  <button class="searchbtn" onclick="window.location.href='src/template/search.html';">
    <i class="fas fa-search"></i>
  </button>
  
  <!-- Mode Toggle Button -->
  <button class="mode-toggle" onclick="toggleMode()">
    <i class="fas fa-sun"></i>
  </button>
  </div>
</header>

<!-- Main Container -->
<main class="main-container" style="padding: 10px;">

<article>
<!-- Heading -->
<h1 style="font-size: 30px;">Download <span class="movieTitle3"></span> (<span class="movieYear"></span>) HD Movie - Dual Audio [<span class="movieLanguage"></span>-<span class="movieOtherLanguage"></span>] with English Subtitles</h1>

<section>
<p>✅ Download <span class="movieTitle3" id="movie-title" style="font-weight: bold; color: red;"></span> - a <span class="movieType" style="font-weight: bold;"></span> available in <span style="color: green; font-weight: bold;">1080p, 720p & 480p</span> quality for mobile, tablet, and computer. This <span class="imdbType"></span> is based on <span class="imdbGenre" style="font-weight: bold; color: #FFC500"></span> and available in HD quality.</p>

<p><strong>mFlix</strong> provides high-quality movie downloads with direct <span style="font-weight: bold;">Google Drive</span> links for fast and secure downloading. We offer the latest Bollywood movies, Hollywood HD movies, and web series.</p>
</section>


<div class="container2" style="display: flex; flex-direction: column;">
<div class="posterContainer" style="margin-right: 20px; background-color: #000; padding: 20px; border-radius: 10px 10px 0px 0px; margin-right: 0; margin-bottom: 0;">
    
<img class="imdbPoster" alt="Movie Poster" style="max-width: 300px; height: auto; display: block; margin: 0 auto; border-radius:10px;">
</div><div class="detailsContainer" style="margin-right: 20px; background-color: #000; padding: 20px; color: #fff; border-radius: 0px 0px 10px 10px; margin-right: 0; margin-bottom: 0;">
<div style="color: #C1C1C1;"><h2 style=" color: #C1C1C1; font-size: 24px; margin-top: 0;"><span class="movieTitle"></span> (<span class="movieYear"></span>)</h2></div>
<p style="color: #fff; margin: 0;"><span class="imdbRuntime"></span> | <span class="imdbGenre"></span> | <span class="imdbRelease"></span> | (<span class="imdbCountry"></span>)</p><br>
<p style="margin: 0;"><strong style="color: #fff;">Rating:</strong> <span style="color: #C1C1C1; font-weight: bold;"> <span class="imdbRating"></span> </span> <span style="color: #fff;">/10</span> <span style="color: #888888;">from <span class="imdbVotes"></span> users</span></p><br>
<p style="margin: 0;"><strong style="color: #fff;">Director:</strong> <span style="color: #C1C1C1;"> <span class="imdbDirector"></span> </span></p><p style="margin: 0;"><strong style="color: #fff;">Writer:</strong> <span style="color: #C1C1C1;"> <span class="imdbWriter"></span> </span></p>
<p style="margin: 0;"><strong style="color: #fff;">Stars:</strong> <span style="color: #C1C1C1;"> <span class="imdbActors"></span> </span></p>
</div></div>


<section>
<h2 style="background: 0px 0px; color: teal; font-family: arial; font-size: 16px;">
    <span class="quality" style="background: rgb(249, 163, 2); border-radius: 3px; color: white; display: inline-block; margin-left: 2px; padding: 2px 5px; text-transform: uppercase;">
<strong>STORYLINE</strong>
</span></h2>
<p><span class="imdbPlot"></span></p>

<h2 style="background: 0px 0px; color: teal; font-family: arial; font-size: 16px;">
<span class="quality" style="background: rgb(34, 34, 34); border-radius: 3px; color: white; display: inline-block; margin-left: 2px; padding: 2px 5px; text-transform: uppercase;">
<strong>SCREENSHOTS</strong>
</span></h2>

<h2 style="background: 0px 0px; color: teal; font-family: arial; font-size: 16px;">
<span class="quality" style="background: rgb(34, 34, 34); border-radius: 3px; color: white; display: inline-block; margin-left: 2px; padding: 2px 5px; text-transform: uppercase;">
<b>DOWNLOAD LINKS</b>
</span></h2> 


<!-- Download Options -->
<div id="downloadOptions"></div>


<h2 style="background: 0px 0px; color: teal; font-family: arial; font-size: 16px;">
<span class="quality" style="background: rgb(34, 34, 34); border-radius: 3px; color: white; display: inline-block; margin-left: 2px; padding: 2px 5px; text-transform: uppercase;">
<b>STREAM ONLINE</b>
</span></h2>


<!-- Video Player Section -->
  <div class="video-player" style="margin-top: 0px;">
    <video id="player" controls crossorigin playsinline poster="">
      <!-- Video quality sources will be populated here by JavaScript -->
    </video>
  </div>
 

  <!-- Quality Options (HIDDEN) -->
  <div class="quality-options" id="qualityOptions" style="display: none;">
<!-- Quality option buttons will be added here -->
  </div>
</section>
</article>

</main> <!-- Main-Container Close/Ends Here -->


<!-- Footer -->
  <footer>
  <div class="footer" style="margin-top: 40px; border-radius: 20px 20px 0px 0px; box-shadow: rgba(0, 0, 0, 0.1) 0px 5px 35px; box-sizing: border-box; padding:15px; position: relative; left:0; bottom:0; width:100%; text-align: center; background-color: #222; font-size: 14px;  color: #fff;">
    <div class="made-with-love" style="color: #ff9800; margin: 5px 0;">Made with ❤ by WebCoderHub</div>
    
    <div class="social-links" style="
        margin-top: 10px; margin-bottom: 10px;">
        <a href="https://github.com/" target="_blank" style="
            margin: 0 10px; 
            color: #fff; 
            text-decoration: none; 
            font-size: 16px;">
            <i class="fab fa-github"></i>
        </a>
        <a href="https://twitter.com/" target="_blank" style="
            margin: 0 10px; 
            color: #fff; 
            text-decoration: none; 
            font-size: 16px;">
            <i class="fab fa-twitter"></i>
        </a>
        <a href="https://linkedin.com/" target="_blank" style="
            margin: 0 10px; 
            color: #fff; 
            text-decoration: none; 
            font-size: 16px;">
            <i class="fab fa-linkedin"></i>
        </a>
    </div>
    
    <div>
      © <span id='getYear'>
      <script>
      /*<![CDATA[*/ var d = new Date(); var n = d.getFullYear(); document.getElementById('getYear').innerHTML = n; /*]]>*/
      </script></span> ‧
      <bdi>
        <a href='https://t.me/webcoderhub' style="color:red; text-decoration: none;">WebCoderHub</a>
      </bdi>‧ All rights reserved.
    </div>
  </div>
</footer>
  

  <script>
    // Extract title from the URL query parameters
const urlParams = new URLSearchParams(window.location.search);
const title2 = decodeURIComponent(urlParams.get('title'));

// Fetch the movie data stored in localStorage
const movieData = JSON.parse(localStorage.getItem('movieData'));

// Update meta tags with movie data
if (movieData) {
    // Update meta description
    const metaDesc = document.querySelector('meta[name="description"]');
    metaDesc.content = `Download ${movieData.title} (${movieData.year}) in HD quality with dual audio and English subtitles. Available in 1080p, 720p, and 480p.`;
    
    // Update keywords
    const metaKeywords = document.querySelector('meta[name="keywords"]');
    const genres = movieData.imdbData ? movieData.imdbData.Genre.split(', ') : [];
    metaKeywords.content = `${movieData.title} download, ${movieData.title} movie, HD movie download, ${genres.join(', ')} movies, free movie download`;
    
    // Update Open Graph tags
    document.querySelector('meta[property="og:title"]').content = `Download ${movieData.title} (${movieData.year}) HD Movie | mFlix`;
    document.querySelector('meta[property="og:description"]').content = `Download ${movieData.title} in HD quality with dual audio and English subtitles.`;
    document.querySelector('meta[property="og:image"]').content = movieData.thumbnail;
    
    // Update canonical URL
    const canonicalLink = document.querySelector('link[rel="canonical"]');
    canonicalLink.href = window.location.href.split('?')[0] + `?title=${encodeURIComponent(movieData.title)}`;
    
    // Update page title
    document.title = `Download ${movieData.title} (${movieData.year}) HD Movie 1080p, 720p, 480p | mFlix`;
}

// Check if movie data is available and matches the requested title
if (movieData && movieData.title === title2) {
    // Populate movie details
    document.querySelectorAll('.movieTitle').forEach(el => el.textContent = movieData.title);
    document.querySelectorAll('.movieTitle3').forEach(el => el.textContent = movieData.title3);
    document.querySelectorAll('.movieType').forEach(el => el.textContent = movieData.type);
    document.querySelectorAll('.movieYear').forEach(el => el.textContent = movieData.year);
    document.querySelectorAll('.moviePoster').forEach(el => {
        el.src = movieData.thumbnail || 'default-poster.jpg';
    }); 

    // For series, show season and episode; otherwise, default to 'N/A'
    document.querySelectorAll('.movieSeason').forEach(el => el.textContent = movieData.qualities?.[0]?.season);
    document.querySelectorAll('.movieEpisode').forEach(el => el.textContent = movieData.qualities?.[0]?.episode);

    // Populate language and other languages from the first quality
    document.querySelectorAll('.movieLanguage').forEach(el => el.textContent = movieData.qualities?.[0]?.language);
    document.querySelectorAll('.movieOtherLanguage').forEach(el => el.textContent = movieData.qualities?.[0]?.otherLanguage);

    // Populate IMDb data
    if (movieData.imdbData) {
        document.querySelectorAll('.imdbRuntime').forEach(el => el.textContent = movieData.imdbData.runtime);
        document.querySelectorAll('.imdbRating').forEach(el => el.textContent = movieData.imdbData.imdbRating);
        document.querySelectorAll('.imdbVotes').forEach(el => el.textContent = movieData.imdbData.imdbVotes);
        document.querySelectorAll('.imdbGenre').forEach(el => el.textContent = movieData.imdbData.Genre);
        document.querySelectorAll('.imdbPlot').forEach(el => el.textContent = movieData.imdbData.plot);
        document.querySelectorAll('.imdbPoster').forEach(el => {
            el.src = movieData.imdbData.poster || movieData.thumbnail;
            el.alt = `${movieData.title} (${movieData.year}) movie poster`;
        });
        document.querySelectorAll('.imdbCountry').forEach(el => el.textContent = movieData.imdbData.country);
        document.querySelectorAll('.imdbDirector').forEach(el => el.textContent = movieData.imdbData.director);
        document.querySelectorAll('.imdbWriter').forEach(el => el.textContent = movieData.imdbData.writer);
        document.querySelectorAll('.imdbActors').forEach(el => el.textContent = movieData.imdbData.actors);
        document.querySelectorAll('.imdbType').forEach(el => el.textContent = movieData.imdbData.Type);
        document.querySelectorAll('.imdbSeasons').forEach(el => el.textContent = movieData.imdbData.totalSeasons);
        document.querySelectorAll('.imdbRelease').forEach(el => el.textContent = movieData.imdbData.releaseDate);
    }

    // Set the poster image for the video player
    const playerElement = document.getElementById('player');
    playerElement.setAttribute('poster', movieData.thumbnail);

    // Populate video sources and add quality option buttons
    const qualityOptionsContainer = document.getElementById('qualityOptions');
    movieData.qualities.forEach((quality, index) => {
        // Create source element for each quality
        const source = document.createElement('source');
        source.src = quality.streamUrl;
        source.type = 'video/mp4';
        source.setAttribute('size', quality.quality.match(/\d+/)[0]);
        playerElement.appendChild(source);

        // Create button for each quality option
        const button = document.createElement('button');
        button.textContent = `${quality.quality} (${quality.fileSize})`;
        button.addEventListener('click', () => {
            playerElement.querySelectorAll('source').forEach(src => {
                if (src.getAttribute('size') === quality.quality.match(/\d+/)[0]) {
                    playerElement.src = src.src;
                }
            });
            playerElement.load();
            playerElement.play();
        });

        qualityOptionsContainer.appendChild(button);
    });

    // Populate download buttons
const downloadOptionsContainer = document.getElementById('downloadOptions');
movieData.qualities.forEach((quality) => {
    // Check if the movie is a series and has season/episode details
    let extraInfo = '';
    if (movieData.type && movieData.type === 'series') {
        const season = quality.season || 'S?';
        const episode = quality.episode || 'E?';
        extraInfo = ` - Season ${season}, Episode ${episode}`;
    }

    // Create a container for the button and its text
    const buttonContainer = document.createElement('div');
    buttonContainer.style.marginBottom = '10px';

    // Create a text element for the button description
    const buttonText = document.createElement('p');
    buttonText.style.marginBottom = '10px';
    buttonText.style.fontSize = '14px';
    buttonText.style.color = '#f8f';

    // Create spans for language and otherLanguage with orange color
    const languageSpan = document.createElement('span');
    languageSpan.textContent = `${quality.language}`;
    languageSpan.style.color = 'orange';

    const otherLanguageSpan = document.createElement('span');
    otherLanguageSpan.textContent = ` ${quality.otherLanguage}`;
    otherLanguageSpan.style.color = 'orange';

    // Create the size span with orange color
    const sizeSpan = document.createElement('span');
    sizeSpan.textContent = `[${quality.fileSize}]`;
    sizeSpan.style.color = '#fff';

    // Set the rest of the text for the button (title and quality)
    buttonText.textContent = `Download ${movieData.title3} {`;
    buttonText.appendChild(languageSpan);
    buttonText.appendChild(otherLanguageSpan);
    buttonText.textContent += `} ${quality.quality} `;

    // Append the size span
    buttonText.appendChild(sizeSpan);

    // Create the button for downloading
    const downloadButton = document.createElement('button');
    downloadButton.textContent = `Download Now`;
    downloadButton.style.display = 'block';

    downloadButton.addEventListener('click', () => {
        const a = document.createElement('a');
        a.href = quality.streamUrl;
        a.download = `${movieData.title3}_${quality.quality}.mp4`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
    });

    // Append the text and button to the container
    buttonContainer.appendChild(buttonText);
    buttonContainer.appendChild(downloadButton);

    // Append the container to the download options container
    downloadOptionsContainer.appendChild(buttonContainer);
});

    // Initialize Plyr with quality control enabled
    const player = new Plyr(playerElement, {
        controls: ['play', 'play-large', 'fast-forward', 'progress', 'current-time', 'mute', 'volume', 'settings', 'fullscreen'],
        settings: ['quality']
    });
    // Toggle Dark/Light Mode
    function toggleMode() {
      const body = document.body;
      const modeButton = document.querySelector('.mode-toggle i');

      if (body.classList.contains('dark-mode')) {
        body.classList.replace('dark-mode', 'light-mode');
        modeButton.classList.replace('fa-moon', 'fa-sun');
        localStorage.setItem('theme', 'light');
      } else {
        body.classList.replace('light-mode', 'dark-mode');
        modeButton.classList.replace('fa-sun', 'fa-moon');
        localStorage.setItem('theme', 'dark');
      }
    }

    // Check for saved theme preference
    document.addEventListener('DOMContentLoaded', () => {
      const savedTheme = localStorage.getItem('theme') || 'light';
      const modeButton = document.querySelector('.mode-toggle i');
      
      if (savedTheme === 'dark') {
        document.body.classList.replace('light-mode', 'dark-mode');
        modeButton.classList.replace('fa-sun', 'fa-moon');
      } else {
        document.body.classList.replace('dark-mode', 'light-mode');
        modeButton.classList.replace('fa-moon', 'fa-sun');
      }

      // Add breadcrumb navigation
      const breadcrumb = document.createElement('nav');
      breadcrumb.setAttribute('aria-label', 'breadcrumb');
      breadcrumb.style.margin = '10px 0';
      breadcrumb.style.padding = '0 10px';
      breadcrumb.innerHTML = `
        <ol style="display: flex; list-style: none; padding: 0; margin: 0;">
          <li style="margin-right: 5px;"><a href="/" style="color: #ff5722; text-decoration: none;">Home</a></li>
          <li style="margin-right: 5px;">&gt;</li>
          <li style="margin-right: 5px;"><a href="/movies.html" style="color: #ff5722; text-decoration: none;">Movies</a></li>
          <li style="margin-right: 5px;">&gt;</li>
          <li>${movieData?.title || 'Movie'}</li>
        </ol>
      `;
      document.querySelector('main').prepend(breadcrumb);

      // Add related movies section if data exists
      if (movieData && movieData.related) {
        const relatedSection = document.createElement('section');
        relatedSection.innerHTML = `
          <h2 style="background: 0px 0px; color: teal; font-family: arial; font-size: 16px;">
            <span class="quality" style="background: rgb(34, 34, 34); border-radius: 3px; color: white; display: inline-block; margin-left: 2px; padding: 2px 5px; text-transform: uppercase;">
              <strong>YOU MAY ALSO LIKE</strong>
            </span>
          </h2>
          <div style="display: flex; overflow-x: auto; gap: 15px; padding: 10px 0;">
            ${movieData.related.map(movie => `
              <a href="/movie.html?title=${encodeURIComponent(movie.title)}" style="text-decoration: none; min-width: 150px;">
                <img src="${movie.thumbnail}" alt="${movie.title} poster" style="width: 150px; height: 225px; object-fit: cover; border-radius: 5px;">
                <p style="color: inherit; margin: 5px 0 0; text-align: center; font-weight: bold;">${movie.title}</p>
              </a>
            `).join('')}
          </div>
        `;
        document.querySelector('main').appendChild(relatedSection);
      }

      // Add lazy loading for images
      document.querySelectorAll('img').forEach(img => {
        if (!img.loading) {
          img.setAttribute('loading', 'lazy');
        }
      });
    });

    // Add structured data for breadcrumbs
    const breadcrumbSchema = {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": window.location.origin + "/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Movies",
          "item": window.location.origin + "/movies.html"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": movieData?.title || "Movie",
          "item": window.location.href
        }
      ]
    };

    const breadcrumbScript = document.createElement('script');
    breadcrumbScript.type = "application/ld+json";
    breadcrumbScript.text = JSON.stringify(breadcrumbSchema);
    document.head.appendChild(breadcrumbScript);
  </script>

  <!-- Google Analytics (example) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'GA_MEASUREMENT_ID');
  </script>
</body>
</html>
